<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Accident Report Form</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    #employeeDetails, #departmentGroup {
      display: none;
    }
    #incidentForm{
      text-align: center;
    }
   
  </style>
</head>
<body class="bg-light">

<div class="container mt-5">

  <!-- Incident Type Selection -->
  <div class="card shadow">
    <div class="card-header bg-dark text-white">
      <h4>Select Incident Type</h4>
    </div>
    <div class="card-body">
      <form id="incidentForm">
        <div class="form-check mb-2 form-check-inline">
          <input class="form-check-input" type="radio" name="incident" id="lti" value="Lost Time Injury">
          <label class="form-check-label" for="lti">Lost Time Injury (LTI)</label>
        </div>
        <div class="form-check mb-2 form-check-inline">
          <input class="form-check-input" type="radio" name="incident" id="mi" value="Minor Injury">
          <label class="form-check-label" for="mi">Minor Injury (MI)</label>
        </div>
        <div class="form-check mb-2 form-check-inline">
          <input class="form-check-input" type="radio" name="incident" id="firstaid" value="First Aid">
          <label class="form-check-label" for="firstaid">First Aid</label>
        </div>
        <div class="form-check mb-3 form-check-inline" >
          <input class="form-check-input" type="radio" name="incident" id="nearmiss" value="Near Miss">
          <label class="form-check-label" for="nearmiss">Near Miss</label>
        </div>
        <button type="button" class="btn btn-primary" onclick="showDetails()">Next</button>
      </form>
    </div>
  </div>

  <!-- Employee Details Section -->
  <div class="card shadow mt-4" id="employeeDetails">
    <div class="card-header bg-secondary text-white">
      <h4>Employee Personal Details</h4>
    </div>
    <div class="card-body">
      <form>
        <input type="hidden" id="incidentType" name="incidentType">

        <div class="mb-3">
  <label for="name" class="form-label">Employee Name <span class="text-danger">*</span></label>
  <input type="text" class="form-control" id="name" placeholder="Enter employee name" required>
</div>

<div class="mb-3">
  <label for="empId" class="form-label">Employee ID <span class="text-danger">*</span></label>
  <input type="text" class="form-control" id="empId" placeholder="Enter  employee ID" required>
</div>

 <div class="mb-3">
  <label for="department" class="form-label">Department <span class="text-danger">*</span></label>
  <input type="text" class="form-control" id="empDepartment" placeholder=" Enter name" required>
</div>

<div class="mb-3">
  <label for="contact" class="form-label">Contract Name <span class="text-danger">*</span></label>
  <input type="text" class="form-control" id="contactName" placeholder="Enter Contact Name" required>
</div>
<div class="mb-3">
  <label for="shiftleader" class="form-label">Shift Leader</label>
  <input type="text" class="form-control" id="ShiftLeader" placeholder="Enter Shift Leader Name">
</div>
<div class="mb-3">
  <label for="machine" class="form-label">Machine </label>
  <input type="text" class="form-control" id="machine" placeholder="Enter machine Name" >
</div>
<div class="mb-3">
  <label for="Manager" class="form-label">Manager </label>
  <input type="text" class="form-control" id="department" placeholder="Enter Manager Name" >
</div>

        <!-- Gender -->
        <div class="mb-3">
          <label class="form-label" >Gender</label><br>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="male" value="Male">
            <label class="form-check-label" for="male">Male</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="female" value="Female">
            <label class="form-check-label" for="female">Female</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="other" value="Other">
            <label class="form-check-label" for="other">Other</label>
          </div>
        </div>

        <!-- Plant Selection -->
        
        <div class="mb-3">
  <label for="shift" class="form-label">Shift </label>
  <select class="form-select" id="shift" >
    <option selected disabled>Select shift</option>
    <option value="General">General</option>
    <option value="A">A</option>
    <option value="B">B</option>
    <option value="C">C</option>
   
  </select>
</div>

       <div class="row mb-3">
  <div class="col-md-6">
    <label for="date" class="form-label">Date of Incident <span class="text-danger">*</span></label>
    <input type="date" class="form-control" id="date" required>
  </div>
  <div class="col-md-6">
    <label for="time" class="form-label">Time of Incident <span class="text-danger">*</span></label>
    <input type="time" class="form-control" id="time" required>
  </div>
</div>

 <div>
          
         </div>
        <div class="mb-3">
          <h5>Location</h5>
          <label class="form-label">Select Plant</label>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="plant" id="plant1" value="Plant One" onchange="updateDepartments(this.value)">
            <label class="form-check-label" for="plant1">Plant One</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="plant" id="plant2" value="Plant Two" onchange="updateDepartments(this.value)">
            <label class="form-check-label" for="plant2">Plant Two</label>
          </div>
        </div>

        <!-- Department Dropdown -->
        <div class="mb-3" id="departmentGroup">
          <label for="department" class="form-label">Incident Location</label>
          <select class="form-select" id="department">
            <option selected disabled>Select location</option>
          </select>
        </div>
        <div class="mb-3" id="otherDepartmentGroup" style="display: none;">
        <label for="otherDepartment" class="form-label">Specify the Location</label>
        <input type="text" class="form-control" id="otherDepartment" placeholder="Enter the incident location">
        </div>


        <div class="mb-3">
          <label for="contact" class="form-label">Contact Number</label>
          <input type="tel" class="form-control" id="contact" placeholder="Enter contact number">
        </div>

        <button type="submit" class="btn btn-success">Submit</button>
      </form>
    </div>
  </div>

</div>

<script>
  function showDetails() {
    const selected = document.querySelector('input[name="incident"]:checked');
    if (selected) {
      document.getElementById('incidentType').value = selected.value;
      document.getElementById('employeeDetails').style.display = 'block';
      document.getElementById('employeeDetails').scrollIntoView({ behavior: 'smooth' });
    } else {
      alert("Please select an Incident type.");
    }
  }

  function updateDepartments(plant) {
    const departmentDropdown = document.getElementById("department");
    const departmentGroup = document.getElementById("departmentGroup");
    departmentDropdown.innerHTML = ''; // Clear old options

    const departments = {
      "Plant One": ["Press shop", "Utility", "ETP/STP", "Press pit","Weld Shop","Store","Canteen area","office","B6 line","jcb","Maintenance area","Main Gate","Scrap Yard","Fabrication","Road"],
      "Plant Two": ["Press shop", "Utility", "ETP/STP", "Press pit","Weld Shop","Store","Canteen area","office","B6 line","jcb","Maintenance area","Main Gate","Scrap Yard","Fabrication","Road"]
    };

    // Add new options
    const defaultOption = document.createElement("option");
    defaultOption.text = "Select department";
    defaultOption.disabled = true;
    defaultOption.selected = true;
    departmentDropdown.appendChild(defaultOption);

    departments[plant].forEach(dep => {
  const option = document.createElement("option");
  option.value = dep;
  option.text = dep;
  departmentDropdown.appendChild(option);
});

// Add "Other" option at the end
const otherOption = document.createElement("option");
otherOption.value = "Other";
otherOption.text = "Other";
departmentDropdown.appendChild(otherOption);


    // Show dropdown
    departmentGroup.style.display = "block";
  }
</script>
<script>
  document.querySelector('#employeeDetails form').addEventListener('submit', function(e) {
    const name = document.getElementById("name").value.trim();
    const empId = document.getElementById("empId").value.trim();

    if (!name || !empId) {
      alert("Please fill in all required fields: Full Name and Employee ID.");
      e.preventDefault(); // Stop form from submitting
    }
  });
</script>
<script>
  document.getElementById("department").addEventListener("change", function () {
  const selected = this.value;
  const otherDept = document.getElementById("otherDepartmentGroup");
  if (selected === "Other") {
    otherDept.style.display = "block";
  } else {
    otherDept.style.display = "none";
  }
});

</script>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
